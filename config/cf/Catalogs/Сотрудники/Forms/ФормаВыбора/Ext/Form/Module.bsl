
#Область ОбработчикиСобытийФормы

////////////////////////////////////////////////////////////////////////////////
// ПРОЦЕДУРЫ - ОБРАБОТЧИКИ СОБЫТИЙ ФОРМЫ

&НаСервере
// Процедура - обработчик события ПриСозданииНаСервере.
//
Процедура ПриСозданииНаСервере(Отказ, СтандартнаяОбработка)
	
	// Только актуальные
	РаботаСОтборамиКлиентСервер.УстановитьЭлементОтбораСписка(Список, "Актуальность", Истина); 	
		
	Если Параметры.Свойство("Подразделение") Тогда
		РаботаСОтборамиКлиентСервер.УстановитьЭлементОтбораСписка(Список, "Подразделение", Параметры.Подразделение);		
	КонецЕсли;
	
	Если Параметры.Свойство("Организация") Тогда
		РаботаСОтборамиКлиентСервер.УстановитьЭлементОтбораСписка(Список, "Организация", Параметры.Организация);		
	КонецЕсли;
	
	Если Параметры.Свойство("ДанныеВыбора") Тогда
		Элементы.Список.ТекущаяСтрока = Параметры.ДанныеВыбора;
	КонецЕсли;
	
КонецПроцедуры // ПриСозданииНаСервере()

&НаКлиенте
Процедура ПоказыватьТолькоАктуальныхСотрудников(Команда)
	
	Элементы.ФормаПоказыватьТолькоАктуальныхСотрудников.Пометка = 
		НЕ Элементы.ФормаПоказыватьТолькоАктуальныхСотрудников.Пометка;
		
	Если Элементы.ФормаПоказыватьТолькоАктуальныхСотрудников.Пометка Тогда
		// Только актуальные.
		РаботаСОтборамиКлиентСервер.УстановитьЭлементОтбораСписка(Список, "Актуальность", Истина);
			
	Иначе		
		РаботаСОтборамиКлиентСервер.УдалитьЭлементОтбораСписка(Список, "Актуальность");
			
	КонецЕсли;
		
КонецПроцедуры

#КонецОбласти